{"version":3,"names":["NestableScrollContainerContext","React","createContext","undefined","useSetupNestableScrollContextValue","forwardedRef","useState","outerScrollEnabled","setOuterScrollEnabled","scrollViewSize","useSharedValue","scrollableRefInner","useRef","scrollableRef","outerScrollOffset","containerSize","contextVal","useMemo","NestableScrollContainerProvider","children","useNestableScrollContainerContext","value","useContext","useSafeNestableScrollContainerContext","Error"],"sources":["nestableScrollContainerContext.tsx"],"sourcesContent":["import React, { useContext, useMemo, useRef, useState } from \"react\";\r\nimport { ScrollView } from \"react-native-gesture-handler\";\r\nimport Animated, { useSharedValue } from \"react-native-reanimated\";\r\n\r\ntype NestableScrollContainerContextVal = ReturnType<\r\n  typeof useSetupNestableScrollContextValue\r\n>;\r\nconst NestableScrollContainerContext = React.createContext<\r\n  NestableScrollContainerContextVal | undefined\r\n>(undefined);\r\n\r\nfunction useSetupNestableScrollContextValue({\r\n  forwardedRef,\r\n}: {\r\n  forwardedRef?: React.MutableRefObject<ScrollView>;\r\n}) {\r\n  const [outerScrollEnabled, setOuterScrollEnabled] = useState(true);\r\n  const scrollViewSize = useSharedValue(0);\r\n  const scrollableRefInner = useRef<ScrollView>(null);\r\n  const scrollableRef = forwardedRef || scrollableRefInner;\r\n  const outerScrollOffset = useSharedValue(0);\r\n  const containerSize = useSharedValue(0);\r\n\r\n  const contextVal = useMemo(\r\n    () => ({\r\n      outerScrollEnabled,\r\n      setOuterScrollEnabled,\r\n      outerScrollOffset,\r\n      scrollViewSize,\r\n      scrollableRef,\r\n      containerSize,\r\n    }),\r\n    [outerScrollEnabled]\r\n  );\r\n\r\n  return contextVal;\r\n}\r\n\r\nexport function NestableScrollContainerProvider({\r\n  children,\r\n  forwardedRef,\r\n}: {\r\n  children: React.ReactNode;\r\n  forwardedRef?: React.MutableRefObject<ScrollView>;\r\n}) {\r\n  const contextVal = useSetupNestableScrollContextValue({ forwardedRef });\r\n  return (\r\n    <NestableScrollContainerContext.Provider value={contextVal}>\r\n      {children}\r\n    </NestableScrollContainerContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useNestableScrollContainerContext() {\r\n  const value = useContext(NestableScrollContainerContext);\r\n  return value;\r\n}\r\n\r\nexport function useSafeNestableScrollContainerContext() {\r\n  const value = useNestableScrollContainerContext();\r\n  if (!value) {\r\n    throw new Error(\r\n      \"useSafeNestableScrollContainerContext must be called within a NestableScrollContainerContext.Provider\"\r\n    );\r\n  }\r\n  return value;\r\n}\r\n"],"mappings":"gdAAA,qDAEA,8D,ymCAKA,GAAMA,+BAA8B,CAAGC,cAAA,CAAMC,aAAN,CAErCC,SAFqC,CAAvC,CAIA,QAASC,mCAAT,MAIG,IAHDC,aAGC,MAHDA,YAGC,eACmD,GAAAC,eAAA,EAAS,IAAT,CADnD,qDACMC,kBADN,eAC0BC,qBAD1B,eAED,GAAMC,eAAc,CAAG,GAAAC,qCAAA,EAAe,CAAf,CAAvB,CACA,GAAMC,mBAAkB,CAAG,GAAAC,aAAA,EAAmB,IAAnB,CAA3B,CACA,GAAMC,cAAa,CAAGR,YAAY,EAAIM,kBAAtC,CACA,GAAMG,kBAAiB,CAAG,GAAAJ,qCAAA,EAAe,CAAf,CAA1B,CACA,GAAMK,cAAa,CAAG,GAAAL,qCAAA,EAAe,CAAf,CAAtB,CAEA,GAAMM,WAAU,CAAG,GAAAC,cAAA,EACjB,iBAAO,CACLV,kBAAkB,CAAlBA,kBADK,CAELC,qBAAqB,CAArBA,qBAFK,CAGLM,iBAAiB,CAAjBA,iBAHK,CAILL,cAAc,CAAdA,cAJK,CAKLI,aAAa,CAAbA,aALK,CAMLE,aAAa,CAAbA,aANK,CAAP,EADiB,CASjB,CAACR,kBAAD,CATiB,CAAnB,CAYA,MAAOS,WAAP,CACD,CAEM,QAASE,gCAAT,OAMJ,IALDC,SAKC,OALDA,QAKC,CAJDd,YAIC,OAJDA,YAIC,CACD,GAAMW,WAAU,CAAGZ,kCAAkC,CAAC,CAAEC,YAAY,CAAZA,YAAF,CAAD,CAArD,CACA,MACE,8BAAC,8BAAD,CAAgC,QAAhC,EAAyC,KAAK,CAAEW,UAAhD,4EACGG,QADH,CADF,CAKD,CAEM,QAASC,kCAAT,EAA6C,CAClD,GAAMC,MAAK,CAAG,GAAAC,iBAAA,EAAWtB,8BAAX,CAAd,CACA,MAAOqB,MAAP,CACD,CAEM,QAASE,sCAAT,EAAiD,CACtD,GAAMF,MAAK,CAAGD,iCAAiC,EAA/C,CACA,GAAI,CAACC,KAAL,CAAY,CACV,KAAM,IAAIG,MAAJ,CACJ,uGADI,CAAN,CAGD,CACD,MAAOH,MAAP,CACD"}