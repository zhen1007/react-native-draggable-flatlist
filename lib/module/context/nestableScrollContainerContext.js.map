{"version":3,"names":["React","useContext","useMemo","useRef","useState","useSharedValue","NestableScrollContainerContext","createContext","undefined","useSetupNestableScrollContextValue","forwardedRef","outerScrollEnabled","setOuterScrollEnabled","scrollViewSize","scrollableRefInner","scrollableRef","outerScrollOffset","containerSize","contextVal","NestableScrollContainerProvider","children","useNestableScrollContainerContext","value","useSafeNestableScrollContainerContext","Error"],"sources":["nestableScrollContainerContext.tsx"],"sourcesContent":["import React, { useContext, useMemo, useRef, useState } from \"react\";\r\nimport { ScrollView } from \"react-native-gesture-handler\";\r\nimport Animated, { useSharedValue } from \"react-native-reanimated\";\r\n\r\ntype NestableScrollContainerContextVal = ReturnType<\r\n  typeof useSetupNestableScrollContextValue\r\n>;\r\nconst NestableScrollContainerContext = React.createContext<\r\n  NestableScrollContainerContextVal | undefined\r\n>(undefined);\r\n\r\nfunction useSetupNestableScrollContextValue({\r\n  forwardedRef,\r\n}: {\r\n  forwardedRef?: React.MutableRefObject<ScrollView>;\r\n}) {\r\n  const [outerScrollEnabled, setOuterScrollEnabled] = useState(true);\r\n  const scrollViewSize = useSharedValue(0);\r\n  const scrollableRefInner = useRef<ScrollView>(null);\r\n  const scrollableRef = forwardedRef || scrollableRefInner;\r\n  const outerScrollOffset = useSharedValue(0);\r\n  const containerSize = useSharedValue(0);\r\n\r\n  const contextVal = useMemo(\r\n    () => ({\r\n      outerScrollEnabled,\r\n      setOuterScrollEnabled,\r\n      outerScrollOffset,\r\n      scrollViewSize,\r\n      scrollableRef,\r\n      containerSize,\r\n    }),\r\n    [outerScrollEnabled]\r\n  );\r\n\r\n  return contextVal;\r\n}\r\n\r\nexport function NestableScrollContainerProvider({\r\n  children,\r\n  forwardedRef,\r\n}: {\r\n  children: React.ReactNode;\r\n  forwardedRef?: React.MutableRefObject<ScrollView>;\r\n}) {\r\n  const contextVal = useSetupNestableScrollContextValue({ forwardedRef });\r\n  return (\r\n    <NestableScrollContainerContext.Provider value={contextVal}>\r\n      {children}\r\n    </NestableScrollContainerContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useNestableScrollContainerContext() {\r\n  const value = useContext(NestableScrollContainerContext);\r\n  return value;\r\n}\r\n\r\nexport function useSafeNestableScrollContainerContext() {\r\n  const value = useNestableScrollContainerContext();\r\n  if (!value) {\r\n    throw new Error(\r\n      \"useSafeNestableScrollContainerContext must be called within a NestableScrollContainerContext.Provider\"\r\n    );\r\n  }\r\n  return value;\r\n}\r\n"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,OAA5B,EAAqCC,MAArC,EAA6CC,QAA7C,QAA6D,OAA7D;AAEA,SAAmBC,cAAnB,QAAyC,yBAAzC;AAKA,MAAMC,8BAA8B,gBAAGN,KAAK,CAACO,aAAN,CAErCC,SAFqC,CAAvC;;AAIA,SAASC,kCAAT,OAIG;EAAA,IAJyC;IAC1CC;EAD0C,CAIzC;EACD,MAAM,CAACC,kBAAD,EAAqBC,qBAArB,IAA8CR,QAAQ,CAAC,IAAD,CAA5D;EACA,MAAMS,cAAc,GAAGR,cAAc,CAAC,CAAD,CAArC;EACA,MAAMS,kBAAkB,GAAGX,MAAM,CAAa,IAAb,CAAjC;EACA,MAAMY,aAAa,GAAGL,YAAY,IAAII,kBAAtC;EACA,MAAME,iBAAiB,GAAGX,cAAc,CAAC,CAAD,CAAxC;EACA,MAAMY,aAAa,GAAGZ,cAAc,CAAC,CAAD,CAApC;EAEA,MAAMa,UAAU,GAAGhB,OAAO,CACxB,OAAO;IACLS,kBADK;IAELC,qBAFK;IAGLI,iBAHK;IAILH,cAJK;IAKLE,aALK;IAMLE;EANK,CAAP,CADwB,EASxB,CAACN,kBAAD,CATwB,CAA1B;EAYA,OAAOO,UAAP;AACD;;AAED,OAAO,SAASC,+BAAT,QAMJ;EAAA,IAN6C;IAC9CC,QAD8C;IAE9CV;EAF8C,CAM7C;EACD,MAAMQ,UAAU,GAAGT,kCAAkC,CAAC;IAAEC;EAAF,CAAD,CAArD;EACA,oBACE,oBAAC,8BAAD,CAAgC,QAAhC;IAAyC,KAAK,EAAEQ;EAAhD,GACGE,QADH,CADF;AAKD;AAED,OAAO,SAASC,iCAAT,GAA6C;EAClD,MAAMC,KAAK,GAAGrB,UAAU,CAACK,8BAAD,CAAxB;EACA,OAAOgB,KAAP;AACD;AAED,OAAO,SAASC,qCAAT,GAAiD;EACtD,MAAMD,KAAK,GAAGD,iCAAiC,EAA/C;;EACA,IAAI,CAACC,KAAL,EAAY;IACV,MAAM,IAAIE,KAAJ,CACJ,uGADI,CAAN;EAGD;;EACD,OAAOF,KAAP;AACD"}